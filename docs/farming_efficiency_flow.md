# Farming Efficiency Analyzer - Flow Diagram

## User Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     User Opens App                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           User Bookmarks Materials                           â”‚
â”‚  (Character Pages, Weapon Pages)                            â”‚
â”‚  âœ“ Character A: Talent materials                            â”‚
â”‚  âœ“ Character B: Ascension materials                         â”‚
â”‚  âœ“ Weapon X: Enhancement materials                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Navigate to Tools Page                              â”‚
â”‚                   â†“                                          â”‚
â”‚     Select "Farming Efficiency Analyzer"                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Analysis Engine Activates                       â”‚
â”‚                                                              â”‚
â”‚  1. Fetch all active bookmarks from database                â”‚
â”‚  2. Group materials by domain                               â”‚
â”‚  3. Calculate efficiency scores                             â”‚
â”‚  4. Sort by score (highest first)                           â”‚
â”‚  5. Check availability for current day                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Display Results to User                           â”‚
â”‚                                                              â”‚
â”‚  ğŸ“Š Talent Material Domains                                 â”‚
â”‚     â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—              â”‚
â”‚     â•‘ ğŸŒŸ Domain of Mastery: Realm of Blessingâ•‘ [TODAY]      â”‚
â”‚     â•‘ Efficiency Score: 42.5                 â•‘              â”‚
â”‚     â•‘ Total Quantity: 85 items               â•‘              â”‚
â”‚     â•‘                                        â•‘              â”‚
â”‚     â•‘ Materials:                             â•‘              â”‚
â”‚     â•‘ â€¢ â­â­â­â­â­ Philosophies of Gold Ã—18       â•‘              â”‚
â”‚     â•‘ â€¢ â­â­â­â­ Guide to Gold Ã—25               â•‘              â”‚
â”‚     â•‘ â€¢ â­â­â­ Teachings of Gold Ã—42            â•‘              â”‚
â”‚     â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•              â”‚
â”‚                                                              â”‚
â”‚     â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—              â”‚
â”‚     â•‘ Domain of Blessing: Ridge Watch        â•‘              â”‚
â”‚     â•‘ Efficiency Score: 28.3                 â•‘              â”‚
â”‚     â•‘ Total Quantity: 52 items               â•‘              â”‚
â”‚     â•‘                                        â•‘              â”‚
â”‚     â•‘ Materials:                             â•‘              â”‚
â”‚     â•‘ â€¢ â­â­â­â­â­ Philosophies of Resistance Ã—12 â•‘              â”‚
â”‚     â•‘ â€¢ â­â­â­â­ Guide to Resistance Ã—18         â•‘              â”‚
â”‚     â•‘ â€¢ â­â­â­ Teachings of Resistance Ã—22      â•‘              â”‚
â”‚     â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•              â”‚
â”‚                                                              â”‚
â”‚  ğŸ—¡ï¸ Weapon Material Domains                                â”‚
â”‚     â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—              â”‚
â”‚     â•‘ Hidden Palace of Lianshan Formula      â•‘ [TODAY]      â”‚
â”‚     â•‘ Efficiency Score: 35.8                 â•‘              â”‚
â”‚     â•‘ ...                                    â•‘              â”‚
â”‚     â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           User Makes Farming Decision                        â”‚
â”‚                                                              â”‚
â”‚  âœ… Farm domains marked [TODAY] first                       â”‚
â”‚  âœ… Focus on highest efficiency scores                      â”‚
â”‚  âœ… Use condensed resin for top priorities                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Presentation Layer                       â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚      FarmingEfficiencyPage (UI Component)           â”‚    â”‚
â”‚  â”‚  â€¢ Displays domain cards                            â”‚    â”‚
â”‚  â”‚  â€¢ Shows efficiency scores                          â”‚    â”‚
â”‚  â”‚  â€¢ Highlights available domains                     â”‚    â”‚
â”‚  â”‚  â€¢ Handles empty states                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                    â”‚ reads from                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Business Logic Layer                     â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   FarmingEfficiencyProvider (Riverpod)              â”‚    â”‚
â”‚  â”‚  â€¢ farmingEfficiencyAnalysisProvider                â”‚    â”‚
â”‚  â”‚  â€¢ Watches bookmark changes                         â”‚    â”‚
â”‚  â”‚  â€¢ Triggers recalculation on updates                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                    â”‚ processes                               â”‚
â”‚                    â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚      Analysis Engine (_analyzeDomains)              â”‚    â”‚
â”‚  â”‚  1. Group materials by domain                       â”‚    â”‚
â”‚  â”‚  2. Calculate weighted scores                       â”‚    â”‚
â”‚  â”‚  3. Sort by efficiency                              â”‚    â”‚
â”‚  â”‚  4. Check daily availability                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                    â”‚ uses                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Data Layer                            â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         BookmarksProvider                           â”‚    â”‚
â”‚  â”‚  â€¢ Fetches active bookmarks                         â”‚    â”‚
â”‚  â”‚  â€¢ Filters material bookmarks                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                    â”‚ queries                                 â”‚
â”‚                    â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚        AssetDataProvider                            â”‚    â”‚
â”‚  â”‚  â€¢ Daily material mappings                          â”‚    â”‚
â”‚  â”‚  â€¢ Material metadata (rarity, names)                â”‚    â”‚
â”‚  â”‚  â€¢ Domain information                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                    â”‚ reads                                   â”‚
â”‚                    â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚           SQLite Database (Drift)                   â”‚    â”‚
â”‚  â”‚  â€¢ BookmarkTable                                    â”‚    â”‚
â”‚  â”‚  â€¢ BookmarkMaterialDetailsTable                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Efficiency Score Calculation

```
For each domain:
    score = 0
    materials = []
    
    For each material in domain:
        quantity = sum of bookmarked quantities
        
        if quantity > 0:
            rarity = material.rarity
            weightedScore = quantity Ã— (rarity / 5.0)
            
            score += weightedScore
            materials.add({
                id: material.id
                name: material.name
                quantity: quantity
                rarity: rarity
                weightedScore: weightedScore
            })
    
    if materials.isNotEmpty:
        domains.add({
            name: domain.name
            score: score
            materials: materials
            totalQuantity: sum(materials.quantity)
            availableToday: checkAvailability(domain, currentDay)
        })

Sort domains by score (descending)
Return sorted domains
```

## State Management

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         App State (Riverpod)                   â”‚
â”‚                                                â”‚
â”‚  farmingEfficiencyAnalysisProvider             â”‚
â”‚         â”‚                                      â”‚
â”‚         â”œâ”€ AsyncLoading (initial)             â”‚
â”‚         â”‚    â””â”€> Show loading spinner          â”‚
â”‚         â”‚                                      â”‚
â”‚         â”œâ”€ AsyncData<FarmingEfficiencyAnalysis>â”‚
â”‚         â”‚    â”‚                                 â”‚
â”‚         â”‚    â”œâ”€> totalBookmarks = 0           â”‚
â”‚         â”‚    â”‚    â””â”€> Show "No Bookmarks"      â”‚
â”‚         â”‚    â”‚                                 â”‚
â”‚         â”‚    â””â”€> totalBookmarks > 0           â”‚
â”‚         â”‚         â””â”€> Show analysis results    â”‚
â”‚         â”‚                                      â”‚
â”‚         â””â”€ AsyncError                          â”‚
â”‚              â””â”€> Show error message            â”‚
â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Example Calculation

```
Input Bookmarks:
  Character "Hu Tao": 
    - Nectar of Diligence (3â˜…) Ã— 18
    - Guide to Diligence (4â˜…) Ã— 12
    - Philosophies of Diligence (5â˜…) Ã— 3
  
  Character "Zhongli":
    - Nectar of Gold (3â˜…) Ã— 18
    - Guide to Gold (4â˜…) Ã— 12
    
  Weapon "Staff of Homa":
    - Grain of Aerosiderite (2â˜…) Ã— 15
    - Piece of Aerosiderite (3â˜…) Ã— 12

Analysis:
  Domain: "Taishan Mansion" (Diligence materials)
    - Nectar (3â˜…) Ã— 18 â†’ 18 Ã— 0.6 = 10.8
    - Guide (4â˜…) Ã— 12 â†’ 12 Ã— 0.8 = 9.6
    - Philosophies (5â˜…) Ã— 3 â†’ 3 Ã— 1.0 = 3.0
    Efficiency Score: 23.4
    Available: Monday/Thursday/Sunday
  
  Domain: "Taishan Mansion" (Gold materials)
    - Nectar (3â˜…) Ã— 18 â†’ 18 Ã— 0.6 = 10.8
    - Guide (4â˜…) Ã— 12 â†’ 12 Ã— 0.8 = 9.6
    Efficiency Score: 20.4
    Available: Monday/Thursday/Sunday
  
  Domain: "Hidden Palace of Lianshan" (Aerosiderite)
    - Grain (2â˜…) Ã— 15 â†’ 15 Ã— 0.4 = 6.0
    - Piece (3â˜…) Ã— 12 â†’ 12 Ã— 0.6 = 7.2
    Efficiency Score: 13.2
    Available: Tuesday/Friday/Sunday

Sorted Results:
  1. Taishan Mansion (Diligence) - Score: 23.4 â­
  2. Taishan Mansion (Gold) - Score: 20.4
  3. Hidden Palace (Aerosiderite) - Score: 13.2
```

## UI Component Tree

```
FarmingEfficiencyPage
â”œâ”€â”€ Scaffold
â”‚   â”œâ”€â”€ AppBar
â”‚   â”‚   â””â”€â”€ Title: "Farming Efficiency Analyzer"
â”‚   â””â”€â”€ Body
â”‚       â””â”€â”€ AsyncBuilder (farmingEfficiencyAnalysisProvider)
â”‚           â”œâ”€â”€ Loading State
â”‚           â”‚   â””â”€â”€ CircularProgressIndicator
â”‚           â”œâ”€â”€ Empty State (totalBookmarks = 0)
â”‚           â”‚   â””â”€â”€ _NoBookmarksWidget
â”‚           â”‚       â”œâ”€â”€ Icon (bookmark_add)
â”‚           â”‚       â”œâ”€â”€ Title text
â”‚           â”‚       â””â”€â”€ Description text
â”‚           â”œâ”€â”€ Data State
â”‚           â”‚   â””â”€â”€ _FarmingEfficiencyContent
â”‚           â”‚       â”œâ”€â”€ Analysis Summary Card
â”‚           â”‚       â”‚   â”œâ”€â”€ Icon (analytics)
â”‚           â”‚       â”‚   â”œâ”€â”€ Description
â”‚           â”‚       â”‚   â””â”€â”€ Timestamp
â”‚           â”‚       â”œâ”€â”€ Talent Domains Section
â”‚           â”‚       â”‚   â”œâ”€â”€ SectionHeading
â”‚           â”‚       â”‚   â””â”€â”€ List of _DomainCard
â”‚           â”‚       â”‚       â”œâ”€â”€ Domain name + availability badge
â”‚           â”‚       â”‚       â”œâ”€â”€ Efficiency score + total quantity
â”‚           â”‚       â”‚       â”œâ”€â”€ Divider
â”‚           â”‚       â”‚       â””â”€â”€ Material chips
â”‚           â”‚       â”‚           â””â”€â”€ _MaterialChip (for each material)
â”‚           â”‚       â”‚               â”œâ”€â”€ Rarity avatar
â”‚           â”‚       â”‚               â””â”€â”€ Name + quantity
â”‚           â”‚       â””â”€â”€ Weapon Domains Section
â”‚           â”‚           â””â”€â”€ (same structure as Talent)
â”‚           â””â”€â”€ Error State
â”‚               â””â”€â”€ CenterText with error message
```

---

This flow diagram provides a comprehensive view of how the Farming Efficiency Analyzer works from user interaction to data processing and display.
